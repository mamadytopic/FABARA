<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Commande Approvisionnement ‚Äì FABARA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="formulaireapp.css">
</head>

<body>

<!-- HEADER -->
<header class="header">
  <div class="container header-content">
    <div class="logo">FABARA</div>
    <nav class="nav">
      <a href="index.html">Accueil</a>
      <a href="approvisionnement.html">Approvisionnement</a>
      <button class="btn-primary">Connexion</button>
    </nav>
  </div>
</header>

<!-- CTA -->
<section class="service-cta">
  <h2>Besoin d‚Äôun approvisionnement fiable ?</h2>
  <h3>Remplissez le formulaire</h3>
</section>

<!-- FORMULAIRE -->
<section class="order-section">
  <div class="container">
    <div class="order-card">

      <h2>Formulaire de commande</h2>
      <p class="order-subtitle">
        Remplissez ce formulaire et notre √©quipe vous contactera sous 24h.
      </p>

      <form id="orderForm">

        <div class="form-grid">
          <div class="form-group">
            <label for="nom">Nom / Entreprise *</label>
            <input type="text" id="nom" name="nom" required placeholder="Ex : Restaurant Diallo">
          </div>

          <div class="form-group">
            <label for="telephone">Num√©ro de t√©l√©phone *</label>
            <input
              type="tel"
              id="telephone"
              name="telephone"
              required
              pattern="[0-9]{8,}"
              placeholder="Ex : 622000000">
          </div>
        </div>

        <div class="form-group">
          <label for="typeClient">Type de client *</label>
          <select id="typeClient" name="typeClient" required>
            <option value="">S√©lectionner...</option>
            <option>H√¥tel</option>
            <option>Restaurant</option>
            <option>Commer√ßant</option>
            <option>M√©nage</option>
          </select>
        </div>

        <div class="form-group">
          <label for="produits">Produits demand√©s *</label>
          <textarea
            id="produits"
            name="produits"
            required
            placeholder="Ex : 50kg riz, 20kg tomate"></textarea>
        </div>

        <div class="form-group">
          <label for="quantite">Quantit√© estim√©e (kg) *</label>
          <input
            type="number"
            id="quantite"
            name="quantite"
            min="1"
            required
            placeholder="Ex : 100">
        </div>

        <div class="form-group">
          <label for="localisation">Localisation *</label>
          <input
            type="text"
            id="localisation"
            name="localisation"
            required
            placeholder="Quartier, point de rep√®re">
        </div>

        <button type="submit" class="btn-primary btn-full">
          Envoyer la demande
        </button>

      </form>

      <div class="order-info">
        Votre demande sera analys√©e par notre √©quipe avant confirmation.
      </div>

    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-container">

    <div class="footer-brand">
      <h3>FABARA</h3>
      <p>Connecter les talents locaux aux besoins modernes.</p>
    </div>

    <div class="footer-links">
      <h4>Services</h4>
      <a href="approvisionnement.html">Approvisionnement</a>
      <a href="artisanat.html">Artisanat</a>
      <a href="livraison.html">Livraison</a>
    </div>

    <div class="footer-links">
      <h4>Entreprise</h4>
      <a href="#">√Ä propos</a>
      <a href="#">Contact</a>
    </div>

    <div class="footer-links">
      <h4>L√©gal</h4>
      <a href="#">Confidentialit√©</a>
      <a href="#">Conditions</a>
    </div>

  </div>

  <div class="footer-bottom">
    ¬© 2025 FABARA ‚Äì Tous droits r√©serv√©s.
  </div>
</footer>

<!-- SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("orderForm");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = {
      id: Date.now(),
      nom: form.nom.value.trim(),
      telephone: form.telephone.value.trim(),
      typeClient: form.typeClient.value,
      produits: form.produits.value.trim(),
      quantite: form.quantite.value,
      localisation: form.localisation.value.trim(),
      service: "Approvisionnement",
      statut: "En attente"
    };

    // V√©rification finale
    if (
      !data.nom ||
      !data.telephone ||
      !data.typeClient ||
      !data.produits ||
      !data.quantite ||
      !data.localisation
    ) {
      alert("‚ùå Veuillez remplir tous les champs");
      return;
    }

    // Stockage local
    const commandes = JSON.parse(localStorage.getItem("commandes")) || [];
    commandes.push(data);
    localStorage.setItem("commandes", JSON.stringify(commandes));

    // Notification client
    alert("‚úÖ Demande envoy√©e avec succ√®s !");

    // WhatsApp √©quipe FABARA
    const message = `
Nouvelle commande FABARA üì¶
Client : ${data.nom}
Service : ${data.service}
Produits : ${data.produits}
Quantit√© : ${data.quantite}
Localisation : ${data.localisation}
T√©l√©phone : ${data.telephone}
    `;

    const whatsappURL =
      "https://wa.me/224669421161?text=" +
      encodeURIComponent(message);

    window.open(whatsappURL, "_blank");

    form.reset();
  });
});

</script>

</body>
</html>
